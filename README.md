# ToGather

### **일정 조율 시스템 설계**

---

### **핵심 개요**
- **목적**: 대학생 팀플, 동아리 모임, 미팅 등에서 일정 조율과 장소 선택을 간편하게 관리.
- **주요 기능**:
  - 가능한 날짜/시간 선택 및 투표.
  - 참여자의 출발지점을 기반으로 중간지점 추천.
  - 장소(카페, 합주실, 음식점 등) 표시.
  - QR 코드, 링크, 또는 코드를 활용한 이벤트 참여.

---

### **기능 상세**

#### **1. 첫 페이지 구성**
- **영역 구분**: 
  1. **참여하기**: 링크/코드/QR로 이벤트에 참여 후 일정 투표.
  2. **이벤트 생성하기**: 날짜/시간 범위를 설정하고 투표 화면으로 연결.
  
#### **2. 일정 투표 기능**
- **날짜 및 시간 선택**:
  - 최대 14일까지 선택 가능.
  - 시간/날짜 중복 선택 허용.
- **빠른 선택 옵션 제공**:
  - "이번 주말", "평일 저녁" 등 사용자 맞춤 패턴 추가.
- **참여 상황 표시**:
  - 가장 인기 있는 옵션 강조.
  - 사용자가 선택한 옵션 시각적으로 구분.

#### **3. 장소 추천 및 지도 표시**
- **중간 지점 계산**:
  - 참여자들의 출발지점 기반으로 중간 좌표 계산.
- **장소 표시**:
  - 중간지점 근처 카페, 합주실, 음식점 등을 지도에 핀으로 표시.
  - 카카오 지도 API를 활용.

#### **4. 이벤트 참여 및 공유**
- **이벤트 생성 완료 후**:
  - "이벤트 링크 복사" 버튼 제공.
  - 카카오톡, 이메일, 메신저로 공유 가능.
- **QR 코드 제공**:
  - 링크를 QR 코드로 생성해 간편 공유.
- **코드 유효성 검증**:
  - 이벤트 코드가 유효하지 않을 경우 즉시 알림.

#### **5. 커뮤니케이션 및 마감 관리**
- **참여자 소통 기능**:
  - 간단한 메시지 게시판 추가.
  - 예: "A 합주실 18-20시 예약했습니다."
- **응답 마감 시간 설정**:
  - 이벤트 생성자가 투표 마감 시간 설정 가능.
  - 마감 후 인기 있는 옵션 자동 선택 (예외 가능).

#### **6. 반응형 UI**
- **화면 최적화**:
  - PC 우선

---

### **기술 스택 및 도구**
1. **프론트엔드**:
   - UI 라이브러리: **FullCalendar.js** (날짜/시간 선택)
   - 지도 API: **카카오 지도 API** (중간지점 추천 및 장소 표시).
2. **백엔드**:
   - **Spring**
   - 데이터베이스: **PostgreSQL**.
3. **공유 기능**:
   - **QR 코드 라이브러리**: `qrcode.js` (링크를 QR 코드로 생성).

---

### **사용자 흐름 요약**
1. **첫 페이지**:
   - "참여하기" 또는 "이벤트 생성하기" 선택.
2. **참여하기**:
   - 링크/코드/QR 입력 → 유효성 확인 → 투표 화면으로 이동.
3. **이벤트 생성하기**:
   - 날짜/시간 범위 설정 → 생성 완료 → 링크/QR 제공 → 투표 화면 이동.
4. **투표 화면**:
   - 가능한 시간 선택 및 제출.
   - 참여 상황을 히트맵으로 시각화.
5. **결과 페이지**:
   - 최다 선택 시간/장소 표시.
   - 중간지점 근처 장소 추천 및 지도 핀 표시.

---

### **개선 포인트**
- **확장성**: 장소 추천 기능에 필터(예: "조용한 카페" 또는 "넓은 공간") 추가 가능.

---

## **1. 데이터베이스 설계**
### **a. 테이블 설계**

#### **기본 테이블 구조**
1. **Event Table**: 이벤트에 대한 기본 정보를 저장.
   - `event_id`: 고유 식별자 (Primary Key).
   - `event_name`: 이벤트 이름.
   - `created_by`: 이벤트 생성자.
   - `created_at`: 생성 날짜.

2. **Participants Table**: 이벤트에 참여하는 사용자 정보를 저장.
   - `participant_id`: 고유 식별자.
   - `event_id`: `Event` 테이블과 연결.
   - `user_id`: 사용자 고유 ID.

---

### **b. 테이블 관계**
- **Event** ↔ **Event Details**: 1:N 관계 (하나의 이벤트가 여러 세부 정보를 가짐).
- **Event** ↔ **Participants**: 1:N 관계 (하나의 이벤트에 여러 사용자가 참여).

---

### **c. 데이터 샘플**
#### **Event Table**
| event_id | event_name   | created_by | created_at          |
|----------|--------------|------------|---------------------|
| 1        | Team Meeting | user123    | 2024-11-19 10:00:00 |

#### **Event Details Table**
| detail_id | event_id | data_type | data_value           |
|-----------|----------|-----------|----------------------|
| 1         | 1        | time      | 2024-11-20T15:00:00 |
| 2         | 1        | location  | 강남역 카페           |

#### **Participants Table**
| participant_id | event_id | user_id  | response_data          |
|----------------|----------|----------|-------------------------|
| 1              | 1        | user456  | {"time": "2024-11-20"} |

---

